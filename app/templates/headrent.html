<!-- /templates/headrent.html  -->
{% extends 'base.html' %}

{% import 'widgets.html' as widgets %}

{% block app_content %}
{% if action == "view" %}
    <form method="POST" id="headrentview">
{% else %}
    <form method="POST" id="headrent">
{% endif %}
    <div class="form-group row">
        <div class="col-md-2">
            <label for="hrcode">hr code:</label>
            <input type="text" class="form-control" name="hrcode" value="{{ headrent.hrcode }}">
        </div>
        <div class="col-md-6">
            <label for="landlord">landlord:</label>
            {{ widgets.combobox(name="landlord", items=landlords, item_selected=headrent.landlordname) }}
        </div>
        <div class="col-md-2">
            <label for="tenure">tenure:</label>
            {{ widgets.combobox(name="tenure", items=tenuredets, item_selected=headrent.tenuredet) }}
        </div>
        <div class="col-md-2">
            <label for="source">source:</label>
            <input type="text" class="form-control" name="source" value="{{ headrent.source }}">
        </div>
    </div>
    <div class="form-group row">
    </div>
    <div class="form-group row">
        <div class="col-md-8">
            <label for="note">notes:</label>
            <input type="text" class="form-control" name="note" value="{{ headrent.note }}">
        </div>
        <div class="col-md-4">
            <label for="reference">reference:</label>
            <input type="text" class="form-control" name="reference" value="{{ headrent.reference }}">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-8">
            <label for="agent">agent:</label>
            <input type="text" class="form-control" name="agent" value="{{ headrent.agdetails }}">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-2">
            <label for="rentpa">rent pa:</label>
            <input type="text" class="form-control" name="rentpa" value="{{ headrent.rentpa }}">
        </div>
        <div class="col-md-2">
            <label for="arrears">rent arrears:</label>
            <input type="text" class="form-control" name="arrears" value="{{ headrent.arrears }}">
        </div>
        <div class="col-md-3">
            <label for="lastrentdate">last rent date:</label>
            <input type="date" class="form-control" name="lastrentdate" value="{{ headrent.lastrentdate }}">
        </div>
        <div class="col-md-3">
            <label for="nextrentdate">next rent date:</label>
            <input type="date" class="form-control" name="nextrentdate" value="{{ headrent.nextrentdate }}">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-2">
            <label for="frequency">frequency:</label>
            {{ widgets.combobox(name="frequency", items=freqdets, item_selected=headrent.freqdet) }}
        </div>
        <div class="col-md-3">
            <label for="advarr">advance or arrears:</label>
            {{ widgets.combobox(name="advarr", items=advarrdets, item_selected=headrent.advarrdet) }}
        </div>
        <div class="form-group col-md-3">
            <label for="datecode">date code:</label>
            <input type="text" class="form-control" name="datecode" value="{{ headrent.datecode }}">
        </div>
        <div class="col-md-2">
            <label for="status">status:</label>
            {{ widgets.combobox(name="status", items=statusdets, item_selected=headrent.statusdet) }}
        </div>
    </div>
    {% if action == "view" %}
        <div class="form-group row">
            <div class="col-md-2">
                <a href="/headrent/{{ headrent.id }}?action=edit" class="btn btn-block btn-danger" role="button">edit headrent</a>
            </div>
            <div class="col-md-2">
                <a href="/headrent/{{ headrent.id }}?action=view" class="btn btn-block btn-primary" role="button">produce remittance advice</a>
            </div>
            <div class="col-md-2">
                <a href="/headrent/{{ headrent.id }}?action=view" class="btn btn-block btn-primary" role="button">view past payments</a>
            </div>
        </div>
    {% else %}
        <div class="form-group row flex-row-reverse">
            <div class="col-md-2">
                <a href="/headrent/{{ headrent.id }}?action=view" class="btn btn-block btn-primary" role="button">back to view</a>
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-block btn-success">save changes</button>
            </div>
        {% if action == "edit" %}
            <div class="col-md-2">
                <a href="/deleteitem/{{ headrent.id }}?item=headrent"
                   onclick="return confirm('Are you sure you want to delete this headrent?');"
                   class="btn btn-block btn-warning" role="button">delete headrent</a>
            </div>
        {% endif %}
        </div>
    {% endif %}
</form>
{% endblock %}
