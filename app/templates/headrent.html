<!-- /templates/headrent.html  -->
{% extends 'base.html' %}

{% import 'widgets.html' as widgets %}

{% block app_content %}

<div class="row">
    <div class="col-md-9">
        <div class="table-fixed table-rent" style="margin-bottom: 1.5rem;">
            <table class="table table-grey table-head">
                <thead>
                <tr>
                    <td style="width: 25%">headrent {{ headrent.code }}</td>
                    <td style="width: 25%"><span class="rounded-background light-green">{{ headrent.tenuredet }}</span>
                    </td>
                    <td style="width: 50%"><span id="statusdet"
                                                 class="rounded-background light-purple">{{ headrent.status }}</span>
                    </td>
                </tr>
                </thead>
            </table>
            <table class="table table-body">
                <tbody>
                <tr>
                    <td class="td-title vertical-align copyable-text" style="width: 12.00%">property</td>
                    <td class="copyable-text vertical-align" style="width: 83.00%">{{ headrent.propaddr }}</td>
                    <td class="vertical-align align-right" style="width: 5.00%"><a
                            href="#"
                            data-toggle="tooltip" title="edit the property"
                            class="btn btn-teal-light btn-round button-icon round circles" role="button"></a>
                </tr>
                </tbody>
            </table>
            <table class="table table-base table-body-alt">
                <tbody>
                <tr>
                    <td class="td-title copyable-text" style="width: 12.00%">landlord</td>
                    <td class="copyable-text" style="width: 88.00%">{{ headrent.landlord.name }}
                        of {{ headrent.landlord.manager.manageraddr }}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="table-fixed table-rent" style="margin-bottom: 1.5rem;">
            <table class="table rounded-corners">
                <tbody>
                <tr>
                    <td class="td-title copyable-text vertical-align" style="width: 12.00%">notes</td>
                    <td class="copyable-text vertical-align" style="width: 83%">{{ headrent.note }}</td>
                    <td class="vertical-align align-right" style="width: 5.00%"><a
                            href="#"
                            data-toggle="tooltip" title="edit notes"
                            class="btn btn-teal-light btn-round button-icon round circles" role="button"></a>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="table-fixed table-rent" style="margin-bottom: 1.5rem;">
            <table class="table table-body-alt rounded-corners">
                <tbody>
                <tr>
                    <td class="td-title copyable-text vertical-align" style="width: 12.00%">agent</td>
                    <td class="copyable-text vertical-align" style="width: 83%">{{ headrent.agent.detail }}</td>
                    <td class="vertical-align align-right" style="width: 5.00%"><a
                            href="#"
                            data-toggle="tooltip" title="edit agent"
                            class="btn btn-teal-light btn-round button-icon round circles" role="button"></a>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="table-fixed table-rent" style="margin-bottom: 1.5rem;">
            <table class="table table-head">
                <tbody>
                <tr>
                    <td class="td-title copyable-text" style="width: 12.00%">rent</td>
                </tr>
                <tr>
                    <td class="td-title copyable-text" style="width: 12.00%">owing</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card card-white">
            <div class="card-header">actions</div>
            <div class="card-body text-primary">
                <div class="form-group row">
                    <div class="col">
                        <a href="#"
                           class="btn btn-block btn-primary button-icon circles"
                           role="button">view past payments</a>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col">
                        <a href="#"
                           class="btn btn-block btn-primary button-icon letter" role="button">produce remittance
                            advice</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-9">
        <div class="table-fixed table-rent">
            <table class="table rounded-corners">
                <thead>
                <tr>
                    <td style="width: 50%">reference: {{ headrent.reference }}</td>
                    <td style="width: 50%">source: {{ headrent.source }}</td>
                </tr>
                </thead>
            </table>
        </div>
    </div>
    <div class="col-md-3">
        <button type="button" id="open_edit_rent" data-toggle="modal" data-target="#edit_modal"
                class="btn btn-block btn-secondary button-icon edit"
                style="margin-bottom: 1.5rem;">edit headrent
        </button>
    </div>
</div>


<!--<form method="POST" id="headrent">
    <div class="form-group row flex-row-reverse">
        <div class="col-md-2">
            <a href="{{ url_for('headrent_bp.headrents') }}"
               class="btn btn-block btn-tog button-icon arrow-left" role="button">back to headrents</a>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-2">
            <label for="rentcode">hr code:</label>
            <input type="text" class="form-control" name="rentcode" value="{{ headrent.code }}" readonly="true">
        </div>
        <div class="col-md-6">
            <label for="landlord">landlord:</label>
            {{ widgets.combobox(name="landlord", items=Landlords.names(), item_selected=headrent.landlord.name) }}
        </div>
        <div class="col-md-2">
            <label for="tenure">tenure:</label>
            {{ widgets.combobox(name="tenure", items=Tenures.names(), item_selected=headrent.tenuredet) }}
        </div>
        <div class="col-md-2">
            <label for="source">source:</label>
            <input type="text" class="form-control" name="source" value="{{ headrent.source }}" readonly="true">
        </div>
    </div>
    <div class="form-group row">
    </div>
    <div class="form-group row">
        <div class="col-md-8">
            <label for="note">notes:</label>
            <input type="text" class="form-control" name="note" value="{{ headrent.note }}" readonly="true">
        </div>
        <div class="col-md-4">
            <label for="reference">reference:</label>
            <input type="text" class="form-control" name="reference" value="{{ headrent.reference }}" readonly="true">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-8">
            <label for="agent">agent:</label>
            <input type="text" class="form-control" name="agent" value="{{ headrent.agent.detail }}" readonly="true">
        </div>
        <div class="col-md-2">
            <label for="status">status:</label>
            {{ widgets.combobox(name="status", items=HrStatuses.names(), item_selected=headrent.hr_status) }}
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-2">
            <label for="rentpa">rent pa:</label>
            <input type="text" class="form-control" name="rentpa" value="{{ headrent.rentpa }}" readonly="true">
        </div>
        <div class="col-md-2">
            <label for="arrears">rent arrears:</label>
            <input type="text" class="form-control" name="arrears" value="{{ headrent.arrears }}" readonly="true">
        </div>
        <div class="col-md-2">
            <label for="frequency">frequency:</label>
            {{ widgets.combobox(name="frequency", items=Freqs.names(), item_selected=headrent.freqdet) }}
        </div>
        <div class="col-md-2">
            <label for="advarr">advance or arrears:</label>
            {{ widgets.combobox(name="advarr", items=AdvArr.names(), item_selected=headrent.advarrdet) }}
        </div>
        <div class="col-md-2">
            <label for="lastrentdate">last rent date:</label>
            <input type="date" class="form-control" name="lastrentdate"
                   value="{{ headrent.lastrentdate }}" readonly="true">
        </div>
        <div class="col-md-2">
            <label for="nextrentdate">next rent date:</label>
            <input type="date" class="form-control" name="nextrentdate"
                   value="{{ next_rent_date(headrent.lastrentdate, headrent.freq_id,
                        headrent.datecode_id, 1).strftime('%d-%b-%Y') }}" readonly="true">
        </div>
    </div>
    <div class="form-group row flex-row-reverse">
        <div class="col-md-2">
            <button type="button" id="edit_view" class="btn btn-block btn-secondary button-icon edit">edit</button>
        </div>
        <div class="col-md-3">
            <a href="{{ url_for('headrent_bp.headrents') }}"
               class="btn btn-block btn-primary button-icon letter" role="button">produce remittance advice</a>
        </div>
        <div class="col-md-3">
            <a href="{{ url_for('headrent_bp.headrents') }}" class="btn btn-block btn-primary button-icon circles"
               role="button">view past payments</a>
        </div>
    </div>
    <div class="form-group row">
    </div>
    <div class="form-group row flex-row-reverse" id="save_delete">
        <div class="col-md-2">
            <button type="submit" class="btn btn-block btn-success button-icon save">save changes</button>
        </div>
        <div class="col-md-2">
            <a href="{{ url_for('util_bp.delete_item', item_id=headrent.id, item='headrent') }}"
               onclick="return confirm('Are you sure you want to delete this headrent?');"
               class="btn btn-block btn-warning button-icon trash" role="button">delete headrent</a>
        </div>
    </div>
</form>-->
{% endblock %}
