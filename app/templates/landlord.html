<!-- /templates/landlord.html  -->
{% extends 'base.html' %}

{% import 'widgets.html' as widgets %}

{% block app_content %}
<form method="POST" id="target">
    <div class="form-group row">
        <div class="col-md-3">
            <label for="name">landlord name:</label>
            <input type="text" class="form-control" name="name" value="{{ landlord.landlordname }}">
        </div>
        <div class="col-md-6">
            <label for="address">landlord address:</label>
            <input type="text" class="form-control" name="address" value="{{ landlord.landlordaddr }}">
        </div>
        <div class="col-md-3">
            <label for="manager">manager:</label>
            {{ widgets.combobox(name="manager", items=managers, item_selected=landlord.managername) }}
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
            <label for="taxdate">landlord tax year end date:</label>
            <input type="text" class="form-control" name="taxdate" value="{{ landlord.taxdate }}">
        </div>
        <div class="col-md-3">
            <label for="emailacc">mmail account:</label>
            {{ widgets.combobox(name="emailacc", items=emailaccs, item_selected=landlord.smtp_server) }}
        </div>
        <div class="col-md-3">
            <label for="bankacc">bank account:</label>
            {{ widgets.combobox(name="bankacc", items=bankaccs, item_selected=landlord.accdesc) }}
        </div>
    </div>
    <div class="form-group row flex-row-reverse">
        <div class="col-md-2">
            <a href="/landlords" class="btn btn-block btn-primary" role="button">back to landlords</a>
        </div>
        {% if action == "view" %}
            <div class="col-md-2">
                <a href="/landlord/{{ landlord.id }}?action=edit" class="btn btn-block btn-danger" role="button">edit landlord</a>
            </div>
            <div class="col-md-2">
                <a href="/landlord/{{ landlord.id }}?action=clone" class="btn btn-block btn-danger" role="button">clone landlord</a>
            </div>
            <div class="col-md-2">
                <a href="/landlord/0?action=new" class="btn btn-block btn-primary" role="button">add landlord</a>
            </div>
        {% elif action == "edit" %}
            <div class="col-md-2">
                <a href="/delete_item/{{ landlord.id }}?item=landlord"
                   onclick="return confirm('Are you sure you want to delete this landlord?');"
                   class="btn btn-block btn-warning" role="button">delete landlord</a>
            </div>
        {% elif action != "view" %}
            <div class="col-md-2">
                <button type="submit" class="btn btn-block btn-success">save changes</button>
            </div>
        {% endif %}
    </div>
</form>
{% endblock %}

